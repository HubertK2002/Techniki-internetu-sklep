{# templates/product/product_card.html.twig #}

<div class="card h-100 shadow-sm">
	{% if product.Image %}
		<img src="{{ asset('products/' ~ product.Image) }}" alt="{{ product.Name }}">
	{% else %}
		<div class="card-img-top d-flex align-items-center justify-content-center bg-light" style="height: 180px;">
			<span class="text-muted">Brak zdjęcia</span>
		</div>
	{% endif %}

	<div class="card-body d-flex flex-column">
		<h5 class="card-title mb-2">{{ product.Name }}</h5>

		{% if product.Description %}
			<p class="card-text text-muted small mb-3">
				{{ product.Description|striptags|u.truncate(120, '…') }}
			</p>
		{% endif %}

		<div class="mt-auto d-flex justify-content-between align-items-center">
			<div class="fw-semibold">
				{{ product.Price|number_format(2, ',', ' ') }} zł
			</div>

			{% if product.Stock is not null %}
				{% if product.Stock > 0 %}
					<span class="badge text-bg-success">Dostępny: {{ product.Stock }}</span>
				{% else %}
					<span class="badge text-bg-danger">Brak</span>
				{% endif %}
			{% endif %}
		</div>
		<button
			type="button"
			class="btn btn-sm btn-primary js-add-to-cart"
			data-url="{{ path('cart_add', { id: product.id }) }}"
		>
			Dodaj do koszyka
		</button>
	</div>
</div>
